{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/teams-sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { Hash, Plus, Search, ChevronDown } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { cn } from '@/lib/utils'\nimport type { Channel } from '@/lib/supabase'\n\ninterface TeamsSidebarProps {\n  channels: Channel[]\n  currentChannelId: string\n  onChannelSelect: (channelId: string) => void\n}\n\nexport function TeamsSidebar({\n  channels,\n  currentChannelId,\n  onChannelSelect,\n}: TeamsSidebarProps) {\n  return (\n    <div className=\"w-64 h-full bg-muted/30 border-r border-border flex flex-col\">\n      {/* Team header */}\n      <div className=\"p-4 border-b border-border\">\n        <button className=\"w-full flex items-center justify-between hover:bg-muted/50 rounded px-2 py-1.5 transition-colors\">\n          <span className=\"font-semibold text-sm text-foreground\">Development Team</span>\n          <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n        </button>\n      </div>\n\n      {/* Search */}\n      <div className=\"p-3 border-b border-border\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n          <Input\n            placeholder=\"Search\"\n            className=\"pl-8 h-8 bg-background/50 border-border/50\"\n          />\n        </div>\n      </div>\n\n      {/* Channels list */}\n      <div className=\"flex-1 overflow-y-auto p-2\">\n        <div className=\"mb-4\">\n          <div className=\"flex items-center justify-between px-2 py-1 mb-1\">\n            <span className=\"text-xs font-semibold text-muted-foreground uppercase\">\n              Channels\n            </span>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-5 w-5\">\n              <Plus className=\"h-3.5 w-3.5\" />\n            </Button>\n          </div>\n\n          <div className=\"space-y-0.5\">\n            {channels.map((channel) => (\n              <button\n                key={channel.id}\n                onClick={() => onChannelSelect(channel.id)}\n                className={cn(\n                  'w-full flex items-center gap-2 px-2 py-1.5 rounded text-sm transition-colors',\n                  currentChannelId === channel.id\n                    ? 'bg-primary/10 text-primary font-semibold'\n                    : 'text-foreground/80 hover:bg-muted/50 hover:text-foreground'\n                )}\n              >\n                <Hash className=\"h-4 w-4 flex-shrink-0\" />\n                <span className=\"truncate\">{channel.name}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Powered by AI */}\n      <div className=\"p-3 border-t border-border\">\n        <div className=\"text-xs text-muted-foreground text-center\">\n          Powered by AI Chatbot ACE\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAcO,SAAS,aAAa,EAC3B,QAAQ,EACR,gBAAgB,EAChB,eAAe,EACG;IAClB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC;4BAAK,WAAU;sCAAwC;;;;;;sCACxD,8OAAC,mOAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK3B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,gNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC,mIAAK;4BACJ,aAAY;4BACZ,WAAU;;;;;;;;;;;;;;;;;0BAMhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAwD;;;;;;8CAGxE,8OAAC,qIAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,WAAU;8CAC5C,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAIpB,8OAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;oCAEC,SAAS,IAAM,gBAAgB,QAAQ,EAAE;oCACzC,WAAW,IAAA,kHAAE,EACX,gFACA,qBAAqB,QAAQ,EAAE,GAC3B,6CACA;;sDAGN,8OAAC,0MAAI;4CAAC,WAAU;;;;;;sDAChB,8OAAC;4CAAK,WAAU;sDAAY,QAAQ,IAAI;;;;;;;mCAVnC,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;0BAkBzB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAA4C;;;;;;;;;;;;;;;;;AAMnE"}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/message-list.tsx"],"sourcesContent":["'use client'\n\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { Badge } from '@/components/ui/badge'\nimport type { Message, Category } from '@/lib/supabase'\nimport { cn } from '@/lib/utils'\nimport { ThumbsUp } from 'lucide-react'\n\ninterface MessageListProps {\n  messages: Message[]\n  categories: Category[]\n}\n\nexport function MessageList({ messages, categories }: MessageListProps) {\n  const getCategoryByName = (name?: string | null) => {\n    if (!name) return null\n    \n    // ✅ 修改点：使用 cat.name?.toLowerCase()\n    // 这样如果 cat.name 不存在，它会返回 undefined 而不是报错，\n    // undefined === name.toLowerCase() 会判定为 false，程序继续运行。\n    return categories.find((cat) => cat.name?.toLowerCase() === name.toLowerCase())\n  }\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2)\n  }\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60)\n\n    if (diffInHours < 24) {\n      return date.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true,\n      })\n    } else if (diffInHours < 48) {\n      return 'Yesterday ' + date.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit',\n        hour12: true,\n      })\n    } else {\n      return date.toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric',\n      })\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {messages.map((message) => {\n        const category = getCategoryByName(message.category)\n        const authorInitials = message.author_avatar || getInitials(message.author_name)\n\n        return (\n          <div\n            key={message.id}\n            className=\"flex gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors group\"\n          >\n            <Avatar className=\"h-9 w-9 mt-1\">\n              <AvatarFallback className=\"text-xs bg-primary/10 text-primary font-semibold\">\n                {authorInitials}\n              </AvatarFallback>\n            </Avatar>\n\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-baseline gap-2 mb-1\">\n                <span className=\"font-semibold text-sm text-foreground\">\n                  {message.author_name}\n                </span>\n                <span className=\"text-xs text-muted-foreground\">\n                  {formatTime(message.created_at)}\n                </span>\n                {category && (\n                  <Badge\n                    variant=\"secondary\"\n                    className={cn(\n                      'ml-1 text-xs font-medium',\n                      'bg-opacity-10'\n                    )}\n                    style={{\n                      backgroundColor: category.color + '20',\n                      color: category.color,\n                      borderColor: category.color + '40',\n                    }}\n                  >\n                    {category.name}\n                  </Badge>\n                )}\n              </div>\n\n              <div className=\"text-sm text-foreground leading-relaxed whitespace-pre-wrap\">\n                {message.content}\n              </div>\n\n              <div className=\"flex items-center gap-4 mt-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <button className=\"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors\">\n                  <ThumbsUp className=\"h-3.5 w-3.5\" />\n                  <span>Like</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAaO,SAAS,YAAY,EAAE,QAAQ,EAAE,UAAU,EAAoB;IACpE,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,MAAM,OAAO;QAElB,mCAAmC;QACnC,0CAA0C;QAC1C,sDAAsD;QACtD,OAAO,WAAW,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,EAAE,kBAAkB,KAAK,WAAW;IAC9E;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;IACd;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,IAAI;QAChB,MAAM,cAAc,CAAC,IAAI,OAAO,KAAK,KAAK,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,EAAE;QAEtE,IAAI,cAAc,IAAI;YACpB,OAAO,KAAK,kBAAkB,CAAC,SAAS;gBACtC,MAAM;gBACN,QAAQ;gBACR,QAAQ;YACV;QACF,OAAO,IAAI,cAAc,IAAI;YAC3B,OAAO,eAAe,KAAK,kBAAkB,CAAC,SAAS;gBACrD,MAAM;gBACN,QAAQ;gBACR,QAAQ;YACV;QACF,OAAO;YACL,OAAO,KAAK,kBAAkB,CAAC,SAAS;gBACtC,OAAO;gBACP,KAAK;YACP;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC;YACb,MAAM,WAAW,kBAAkB,QAAQ,QAAQ;YACnD,MAAM,iBAAiB,QAAQ,aAAa,IAAI,YAAY,QAAQ,WAAW;YAE/E,qBACE,8OAAC;gBAEC,WAAU;;kCAEV,8OAAC,qIAAM;wBAAC,WAAU;kCAChB,cAAA,8OAAC,6IAAc;4BAAC,WAAU;sCACvB;;;;;;;;;;;kCAIL,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDACb,QAAQ,WAAW;;;;;;kDAEtB,8OAAC;wCAAK,WAAU;kDACb,WAAW,QAAQ,UAAU;;;;;;oCAE/B,0BACC,8OAAC,mIAAK;wCACJ,SAAQ;wCACR,WAAW,IAAA,kHAAE,EACX,4BACA;wCAEF,OAAO;4CACL,iBAAiB,SAAS,KAAK,GAAG;4CAClC,OAAO,SAAS,KAAK;4CACrB,aAAa,SAAS,KAAK,GAAG;wCAChC;kDAEC,SAAS,IAAI;;;;;;;;;;;;0CAKpB,8OAAC;gCAAI,WAAU;0CACZ,QAAQ,OAAO;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAO,WAAU;;sDAChB,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;eA1CP,QAAQ,EAAE;;;;;QAgDrB;;;;;;AAGN"}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/channel-view.tsx"],"sourcesContent":["'use client'\n\nimport React from \"react\"\n\nimport { MessageList } from './message-list'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Send,\n  Paperclip,\n  Smile,\n  AtSign,\n  MoreHorizontal,\n  Video,\n  Phone,\n  Users,\n} from 'lucide-react'\nimport type { Channel, Message, Category } from '@/lib/supabase'\nimport { useState } from 'react'\n\ninterface ChannelViewProps {\n  channel: Channel\n  messages: Message[]\n  categories: Category[]\n  onSendMessage: (content: string) => void\n}\n\nexport function ChannelView({\n  channel,\n  messages,\n  categories,\n  onSendMessage,\n}: ChannelViewProps) {\n  const [messageContent, setMessageContent] = useState('')\n\n  const handleSend = () => {\n    if (messageContent.trim()) {\n      onSendMessage(messageContent)\n      setMessageContent('')\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full bg-background\">\n      {/* Channel header */}\n      <div className=\"h-14 border-b border-border flex items-center justify-between px-4\">\n        <div className=\"flex items-center gap-2\">\n          <h1 className=\"text-lg font-semibold text-foreground\">\n            # {channel.name}\n          </h1>\n        </div>\n\n        <div className=\"flex items-center gap-1\">\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n            <Video className=\"h-4 w-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n            <Phone className=\"h-4 w-4\" />\n          </Button>\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n            <Users className=\"h-4 w-4\" />\n          </Button>\n          <div className=\"w-px h-6 bg-border mx-1\" />\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n            <MoreHorizontal className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Messages area */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"max-w-4xl mx-auto p-4\">\n          {/* Channel description */}\n          <div className=\"mb-6 pb-6 border-b border-border\">\n            <h2 className=\"text-xl font-bold text-foreground mb-1\">\n              # {channel.name}\n            </h2>\n            <p className=\"text-sm text-muted-foreground\">\n              {channel.description}\n            </p>\n          </div>\n\n          {/* Messages */}\n          <MessageList messages={messages} categories={categories} />\n        </div>\n      </div>\n\n      {/* Message input */}\n      <div className=\"border-t border-border p-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"relative rounded-lg border border-border bg-background focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-0\">\n            <Textarea\n              value={messageContent}\n              onChange={(e) => setMessageContent(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder={`Message # ${channel.name}`}\n              className=\"min-h-[80px] border-0 resize-none focus-visible:ring-0 focus-visible:ring-offset-0 pr-12\"\n            />\n\n            <div className=\"absolute bottom-2 right-2 flex items-center gap-1\">\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\">\n                <Paperclip className=\"h-4 w-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\">\n                <Smile className=\"h-4 w-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7\">\n                <AtSign className=\"h-4 w-4\" />\n              </Button>\n              <div className=\"w-px h-5 bg-border mx-1\" />\n              <Button\n                onClick={handleSend}\n                disabled={!messageContent.trim()}\n                size=\"icon\"\n                className=\"h-7 w-7\"\n              >\n                <Send className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"mt-2 text-xs text-muted-foreground\">\n            Press <kbd className=\"px-1.5 py-0.5 bg-muted rounded text-xs\">Enter</kbd> to send, {' '}\n            <kbd className=\"px-1.5 py-0.5 bg-muted rounded text-xs\">Shift+Enter</kbd> for new line\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 949, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/components/channel-carousel.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { ChevronLeft, ChevronRight } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { cn } from '@/lib/utils'\nimport type { Channel } from '@/lib/supabase'\n\ninterface ChannelCarouselProps {\n  channels: Channel[]\n  currentIndex: number\n  onChannelChange: (index: number) => void\n}\n\nexport function ChannelCarousel({\n  channels,\n  currentIndex,\n  onChannelChange,\n}: ChannelCarouselProps) {\n  const [isAnimating, setIsAnimating] = useState(false)\n\n  const handlePrevious = () => {\n    if (isAnimating || currentIndex === 0) return\n    setIsAnimating(true)\n    onChannelChange(currentIndex - 1)\n    setTimeout(() => setIsAnimating(false), 300)\n  }\n\n  const handleNext = () => {\n    if (isAnimating || currentIndex === channels.length - 1) return\n    setIsAnimating(true)\n    onChannelChange(currentIndex + 1)\n    setTimeout(() => setIsAnimating(false), 300)\n  }\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'ArrowLeft') handlePrevious()\n      if (e.key === 'ArrowRight') handleNext()\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [currentIndex, isAnimating])\n\n  const getChannelAtOffset = (offset: number) => {\n    const index = currentIndex + offset\n    if (index < 0 || index >= channels.length) return null\n    return channels[index]\n  }\n\n  return (\n    <div className=\"relative flex items-center justify-center w-full h-full\">\n      {/* Left preview */}\n      <div className=\"absolute left-0 top-0 bottom-0 w-64 flex items-center justify-end pr-6 pointer-events-none\">\n        {getChannelAtOffset(-1) && (\n          <div\n            className={cn(\n              'w-48 h-32 rounded-lg bg-muted/50 backdrop-blur-sm border border-border/50 p-4 transition-all duration-300',\n              'opacity-40 scale-90'\n            )}\n          >\n            <h3 className=\"font-semibold text-sm text-foreground/70 truncate\">\n              {getChannelAtOffset(-1)!.name}\n            </h3>\n            <p className=\"text-xs text-muted-foreground/70 mt-1 line-clamp-2\">\n              {getChannelAtOffset(-1)!.description}\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Center - Current channel */}\n      <div className=\"flex-1 max-w-4xl mx-auto px-20\">\n        <div\n          className={cn(\n            'w-full transition-all duration-300',\n            isAnimating && 'scale-95 opacity-50'\n          )}\n        >\n          {channels[currentIndex] && (\n            <div className=\"w-full h-full\">\n              {/* This will be replaced with the actual channel content */}\n              <div className=\"rounded-lg bg-background border border-border p-6\">\n                <h2 className=\"text-2xl font-bold text-foreground\">\n                  {channels[currentIndex].name}\n                </h2>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  {channels[currentIndex].description}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Right preview */}\n      <div className=\"absolute right-0 top-0 bottom-0 w-64 flex items-center justify-start pl-6 pointer-events-none\">\n        {getChannelAtOffset(1) && (\n          <div\n            className={cn(\n              'w-48 h-32 rounded-lg bg-muted/50 backdrop-blur-sm border border-border/50 p-4 transition-all duration-300',\n              'opacity-40 scale-90'\n            )}\n          >\n            <h3 className=\"font-semibold text-sm text-foreground/70 truncate\">\n              {getChannelAtOffset(1)!.name}\n            </h3>\n            <p className=\"text-xs text-muted-foreground/70 mt-1 line-clamp-2\">\n              {getChannelAtOffset(1)!.description}\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Navigation buttons */}\n      <Button\n        onClick={handlePrevious}\n        disabled={currentIndex === 0}\n        variant=\"outline\"\n        size=\"icon\"\n        className=\"absolute left-4 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-background/80 backdrop-blur-sm\"\n      >\n        <ChevronLeft className=\"h-5 w-5\" />\n      </Button>\n\n      <Button\n        onClick={handleNext}\n        disabled={currentIndex === channels.length - 1}\n        variant=\"outline\"\n        size=\"icon\"\n        className=\"absolute right-4 top-1/2 -translate-y-1/2 z-10 h-10 w-10 rounded-full bg-background/80 backdrop-blur-sm\"\n      >\n        <ChevronRight className=\"h-5 w-5\" />\n      </Button>\n\n      {/* Position indicator */}\n      <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2\">\n        {channels.map((_, index) => (\n          <button\n            key={index}\n            onClick={() => {\n              if (!isAnimating) {\n                setIsAnimating(true)\n                onChannelChange(index)\n                setTimeout(() => setIsAnimating(false), 300)\n              }\n            }}\n            className={cn(\n              'h-1.5 rounded-full transition-all duration-300',\n              index === currentIndex\n                ? 'w-8 bg-primary'\n                : 'w-1.5 bg-muted-foreground/30 hover:bg-muted-foreground/50'\n            )}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAcO,SAAS,gBAAgB,EAC9B,QAAQ,EACR,YAAY,EACZ,eAAe,EACM;IACrB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,iBAAiB;QACrB,IAAI,eAAe,iBAAiB,GAAG;QACvC,eAAe;QACf,gBAAgB,eAAe;QAC/B,WAAW,IAAM,eAAe,QAAQ;IAC1C;IAEA,MAAM,aAAa;QACjB,IAAI,eAAe,iBAAiB,SAAS,MAAM,GAAG,GAAG;QACzD,eAAe;QACf,gBAAgB,eAAe;QAC/B,WAAW,IAAM,eAAe,QAAQ;IAC1C;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB,CAAC;YACrB,IAAI,EAAE,GAAG,KAAK,aAAa;YAC3B,IAAI,EAAE,GAAG,KAAK,cAAc;QAC9B;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAc;KAAY;IAE9B,MAAM,qBAAqB,CAAC;QAC1B,MAAM,QAAQ,eAAe;QAC7B,IAAI,QAAQ,KAAK,SAAS,SAAS,MAAM,EAAE,OAAO;QAClD,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACZ,mBAAmB,CAAC,oBACnB,8OAAC;oBACC,WAAW,IAAA,kHAAE,EACX,6GACA;;sCAGF,8OAAC;4BAAG,WAAU;sCACX,mBAAmB,CAAC,GAAI,IAAI;;;;;;sCAE/B,8OAAC;4BAAE,WAAU;sCACV,mBAAmB,CAAC,GAAI,WAAW;;;;;;;;;;;;;;;;;0BAO5C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,WAAW,IAAA,kHAAE,EACX,sCACA,eAAe;8BAGhB,QAAQ,CAAC,aAAa,kBACrB,8OAAC;wBAAI,WAAU;kCAEb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CACX,QAAQ,CAAC,aAAa,CAAC,IAAI;;;;;;8CAE9B,8OAAC;oCAAE,WAAU;8CACV,QAAQ,CAAC,aAAa,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS/C,8OAAC;gBAAI,WAAU;0BACZ,mBAAmB,oBAClB,8OAAC;oBACC,WAAW,IAAA,kHAAE,EACX,6GACA;;sCAGF,8OAAC;4BAAG,WAAU;sCACX,mBAAmB,GAAI,IAAI;;;;;;sCAE9B,8OAAC;4BAAE,WAAU;sCACV,mBAAmB,GAAI,WAAW;;;;;;;;;;;;;;;;;0BAO3C,8OAAC,qIAAM;gBACL,SAAS;gBACT,UAAU,iBAAiB;gBAC3B,SAAQ;gBACR,MAAK;gBACL,WAAU;0BAEV,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;0BAGzB,8OAAC,qIAAM;gBACL,SAAS;gBACT,UAAU,iBAAiB,SAAS,MAAM,GAAG;gBAC7C,SAAQ;gBACR,MAAK;gBACL,WAAU;0BAEV,cAAA,8OAAC,sOAAY;oBAAC,WAAU;;;;;;;;;;;0BAI1B,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,GAAG,sBAChB,8OAAC;wBAEC,SAAS;4BACP,IAAI,CAAC,aAAa;gCAChB,eAAe;gCACf,gBAAgB;gCAChB,WAAW,IAAM,eAAe,QAAQ;4BAC1C;wBACF;wBACA,WAAW,IAAA,kHAAE,EACX,kDACA,UAAU,eACN,mBACA;uBAZD;;;;;;;;;;;;;;;;AAmBjB"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\nexport type Channel = {\n  id: string\n  name: string\n  description: string | null\n  icon?: string | null\n  color?: string | null\n  position?: number\n  created_at: string\n}\n\nexport type Message = {\n  id: string\n  channel_id: string\n  author_name: string\n  author_avatar?: string | null\n  content: string\n  category?: string | null\n  created_at: string\n}\n\nexport type Category = {\n  id: string\n  name: string\n  description?: string | null\n  color: string\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,8LAAY,EAAC,aAAa"}},
    {"offset": {"line": 1189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Data/Project/TeamsChannel/code/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { TeamsSidebar } from '@/components/teams-sidebar'\nimport { ChannelView } from '@/components/channel-view'\nimport { ChannelCarousel } from '@/components/channel-carousel'\nimport { supabase, type Channel, type Message, type Category } from '@/lib/supabase'\n\nexport default function Page() {\n  const [currentChannelIndex, setCurrentChannelIndex] = useState(0)\n  const [channels, setChannels] = useState<Channel[]>([])\n  const [categories, setCategories] = useState<Category[]>([])\n  const [messages, setMessages] = useState<Record<string, Message[]>>({})\n  const [loading, setLoading] = useState(true)\n\n  // Load data from Supabase on mount\n  useEffect(() => {\n    async function loadData() {\n      try {\n        console.log('[v0] Loading data from Supabase...')\n        \n        // Load channels\n        const { data: channelsData, error: channelsError } = await supabase\n          .from('channels')\n          .select('*')\n          .order('position', { ascending: true })\n\n        if (channelsError) {\n          console.error('[v0] Error loading channels:', channelsError)\n        } else if (channelsData) {\n          console.log('[v0] Loaded channels:', channelsData)\n          setChannels(channelsData)\n        }\n\n        // Load categories\n        const { data: categoriesData, error: categoriesError } = await supabase\n          .from('categories')\n          .select('*')\n\n        if (categoriesError) {\n          console.error('[v0] Error loading categories:', categoriesError)\n        } else if (categoriesData) {\n          console.log('[v0] Loaded categories:', categoriesData)\n          setCategories(categoriesData)\n        }\n\n        // Load messages for all channels\n        const { data: messagesData, error: messagesError } = await supabase\n          .from('messages')\n          .select('*')\n          .order('created_at', { ascending: true })\n\n        if (messagesError) {\n          console.error('[v0] Error loading messages:', messagesError)\n        } else if (messagesData) {\n          console.log('[v0] Loaded messages:', messagesData)\n          // Group messages by channel_id\n          const groupedMessages: Record<string, Message[]> = {}\n          for (const msg of messagesData) {\n            if (!groupedMessages[msg.channel_id]) {\n              groupedMessages[msg.channel_id] = []\n            }\n            groupedMessages[msg.channel_id].push(msg)\n          }\n          setMessages(groupedMessages)\n        }\n\n        setLoading(false)\n      } catch (error) {\n        console.error('[v0] Error loading data:', error)\n        setLoading(false)\n      }\n    }\n\n    loadData()\n  }, [])\n\n  const currentChannel = channels[currentChannelIndex]\n  const currentMessages = currentChannel ? messages[currentChannel.id] || [] : []\n\n  const handleChannelSelect = (channelId: string) => {\n    const index = channels.findIndex((c) => c.id === channelId)\n    if (index !== -1) {\n      setCurrentChannelIndex(index)\n    }\n  }\n\n  const handleSendMessage = async (content: string) => {\n    if (!currentChannel) return\n\n    // Insert message into Supabase\n    const { data: newMessageData, error: insertError } = await supabase\n      .from('messages')\n      .insert({\n        channel_id: currentChannel.id,\n        author_name: 'You',\n        author_avatar: 'YU',\n        content,\n      })\n      .select()\n      .single()\n\n    if (insertError) {\n      console.error('[v0] Error inserting message:', insertError)\n      return\n    }\n\n    if (newMessageData) {\n      console.log('[v0] New message saved:', newMessageData)\n\n      // Add message to local state\n      setMessages((prev) => ({\n        ...prev,\n        [currentChannel.id]: [...(prev[currentChannel.id] || []), newMessageData],\n      }))\n\n      // Categorize message with AI in the background\n      try {\n        const response = await fetch('/api/categorize', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ message: content, categories }),\n        })\n\n        if (response.ok) {\n          const result = await response.json()\n          console.log('[v0] AI categorization:', result)\n\n          // Find matching category name\n          const matchedCategory = categories.find((cat) => cat.id === result.categoryId)\n          const categoryName = matchedCategory?.name || null\n\n          if (categoryName) {\n            // Update message in Supabase with category\n            const { error: updateError } = await supabase\n              .from('messages')\n              .update({ category: categoryName })\n              .eq('id', newMessageData.id)\n\n            if (updateError) {\n              console.error('[v0] Error updating category:', updateError)\n            } else {\n              // Update local state\n              setMessages((prev) => ({\n                ...prev,\n                [currentChannel.id]: prev[currentChannel.id].map((msg) =>\n                  msg.id === newMessageData.id ? { ...msg, category: categoryName } : msg\n                ),\n              }))\n            }\n          }\n        } else {\n          const errorText = await response.text()\n          console.log('[v0] AI categorization failed:', errorText)\n        }\n      } catch (error) {\n        console.error('[v0] Failed to categorize message:', error)\n      }\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Loading channels...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!currentChannel) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground\">No channels available</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-screen bg-background\">\n      {/* Sidebar */}\n      <TeamsSidebar\n        channels={channels}\n        currentChannelId={currentChannel.id}\n        onChannelSelect={handleChannelSelect}\n      />\n\n      {/* Main content area with carousel */}\n      <div className=\"flex-1 flex flex-col\">\n        <div className=\"flex-1 relative\">\n          <ChannelCarousel\n            channels={channels}\n            currentIndex={currentChannelIndex}\n            onChannelChange={setCurrentChannelIndex}\n          />\n\n          {/* Overlay the actual channel content on top of carousel */}\n          <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n            <div className=\"w-full max-w-4xl h-full pointer-events-auto\">\n              <ChannelView\n                channel={currentChannel}\n                messages={currentMessages}\n                categories={categories}\n                onSendMessage={handleSendMessage}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}