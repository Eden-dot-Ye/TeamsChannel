# 加强版Teams Channel

## Demo效果

![1770274170689](image/readme/1770274170689.gif)

## 背景

这是我目前使用的Development CORE Team的Teams Channel的样子。

它有一个问题：有很多个子频道，但是这些子频道是人工分类的，分类不够细致，而且有些子频道内容重复，导致如果我有一个问题，我不知道该去哪个子频道提问。

## 目标

我希望有一个加强版的Development CORE Team的Teams Channel，它能够通过AI，根据内容自动分类，并且能够根据用户的问题推荐最相关的子频道。

## 视觉效果

目前的Channel中只有最中间显示了当前子频道内容，而周围有很多空闲区域，我希望能够利用这些空闲区域，构造一个类似于任务栏中轮播的UI界面，其中正中心位置显示当前子频道内容，左右两侧显示相邻子频道内容缩略预览图，用户可以通过点击左右两侧的缩略图来切换当前子频道内容。

## 具体功能需求

1. 你需要帮我实现和原生Teams尽可能一样的基本UI界面设计，并在此基础上添加包含任务栏轮播的UI设计。
2. 你需要帮我实现AI自动分类子频道的功能，能够根据子频道内容进行细致分类，并且避免内容重复。
3. 你需要帮我实现根据用户问题推荐最相关子频道的功能，能够根据用户输入的问题，推荐最相关的子频道供用户选择。
4. 你需要为它设计一套supabase数据库schema，并且为这个数据库添加一些初始数据，方便测试和展示功能。这些初始数据需要以中文形式提供，并且涵盖不同的类型，例如：技术讨论，产品设计，Bug反馈，文档分享，生活日常等。

## 技术要求

你可以使用任何你喜欢的Web技术，并且这是一个Demo项目，所以你不需要考虑其它效果的实现，例如正常的Teams聊天，通话等，你只需要实现上述功能即可。

## 主要优势

1. 发帖的时候自动匹配子频道，减少用户选择子频道的时间成本。
2. 利用了频道左右的空闲区域，提升了UI的利用率。

## 当前存在的问题

1. 目前的UI和正常Teams软件的UI差距非常大，请帮我在UI层面调整为同样的风格。
2. 目前左右频道的缩略图太小了，且只显示了频道名称和描述，但我需要的是显示频道内最新的几条消息的内容，来帮助用户更好地判断这个频道是否相关。它的大小应该有当前频道区域的2/3左右。
3. 目前的AI分类逻辑和预期不一样。目前的效果是给用户发布的帖子分类，然后打上一个标签。但是我需要的是根据用户发布的帖子内容，自动将这个帖子发布到最相关的子频道中，而不是在原来的频道中打标签。也就是说，用户发布帖子的时候，应该在一个单独的页面中，并且不需要选择子频道，而是直接发布，系统会根据内容自动将这个帖子发布到最相关的子频道中。
4. 当前setup-database.sql文件中的初始数据有问题：
   1. 没有删除旧的数据，导致每次运行这个脚本都会重复添加数据，应该在添加数据之前，先删除旧的数据和表。
   2. 绝大多数都是英文的数据，而我希望这些初始数据需要以中文形式提供，并且涵盖不同的类型，例如：技术讨论，产品设计，Bug反馈，文档分享，生活日常等。
   3. channels表中的name字段，应该和categories表中的name字段保持一致，而不是随意命名。例如：categories表中有一个name是“技术讨论”，那么channels表中也应该有一个name是“技术讨论”的频道。换句话说，类别名称就是频道的名称。（这一点也需要在代码中进行相应调整）

## 当前存在的问题

之前的问题解决的不错，但是有如下仍可以调整的地方
1. 目前的每个子Channel看起来就像聊天群，我希望能有白色背景的卡片式包裹每个帖子
2. 目前左右两侧的频道预览图中文本在缩放的时候会溢出，我希望能自动换行，并且在超出一定行数后显示省略号
3. 当前setup-database.sql文件中的初始数据格式是对了，但是每个帖子的内容太少了，我希望每个人发的帖子的内容尽量丰富一些，至少有100到200字，方便测试AI分类和推荐功能
4. 整体UI的接近Teams风格了，但是还可以更好看一些（多一些上下左右的栏目界面），我给你发了一张图片做参考。

## 当前存在的问题

之前的问题解决的不错，但是有如下仍可以调整的地方
1. 左右切换频道预览图的时候，只需要点击预览就能切换，不需要像现在这样额外添加圆形的左右切换按钮了
2. 当前setup-database.sql文件中的初始数据中每个帖子的内容还是太少了，我需要每个人发的帖子的内容尽量丰富一些，至少有300到400字，方便测试AI分类和推荐功能
   1. 并且帖子内容中可以包含一些markdown格式，例如标题，粗体，斜体，代码块等，尽可能丰富，并可以长一些
3. 整体UI的接近Teams风格了，但是还需要做一些额外补充，例如左侧的导航栏，顶部的搜索栏等，这些功能不需要实现具体功能，但是需要有这些UI元素在页面上

## 当前存在的问题

之前的问题解决的不错，但是有如下仍可以调整的地方
1. 当前子频道帖子和预览帖子中需要能解析markdown格式，并且正确显示，例如标题，粗体，斜体，代码块等
2. 当前子频道名称的标题栏的宽度需要更宽，目前的宽度只涵盖了当前子频道，而没有涵盖左右两侧的预览频道，应该调整为能够涵盖左右两侧的预览频道的宽度
3. 发布新帖子的按钮和相关UI需要放到下方，而不是放在顶部，这样更符合正常的使用习惯
4. 当前setup-database.sql文件中的初始数据中每个频道的帖子数量还是太少了，我需要每个频道至少有5到10个帖子，方便测试AI分类